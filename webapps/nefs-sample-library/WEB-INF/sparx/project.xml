<?xml version="1.0"?>

<project xmlns:xdm="http://www.netspective.org/Framework/Commons/XMLDataModel">

	<!--
	**********************************************************************
	** NETSPECTIVE FRAMEWORKS' RESOURCE FILES                           **
	********************************************************************** -->

    <xdm:include resource="com/netspective/commons/conf/commons.xml"/>
    <xdm:include resource="com/netspective/axiom/conf/axiom.xml"/>
    <xdm:include resource="com/netspective/sparx/conf/sparx.xml"/>
    <xdm:include resource="com/netspective/sparx/conf/console.xml"/>

	<!--
	**********************************************************************
	** USER INTERFACE (PRESENTATION) SPECIFICATIONS                     **
	********************************************************************** -->

    <navigation-tree name="app" default="yes">
        <page name="home" default="yes" caption="Home">
            <body>
                Welcome to the home page.
            </body>
        </page>
        <page name="add" caption="Add Book" command="dialog,library.book-info,add"/>
    </navigation-tree>

	<!--
	**********************************************************************
	** DATA MANAGEMENT STRUCTURE (SCHEMA) SPECIFICATIONS                **
	********************************************************************** -->

	<schema name="db">
		<xdm:include resource="com/netspective/axiom/conf/schema.xml"/>

		<table name="Book_Info" abbrev="bkI" type="Presentation">
			<column name="id" type="text" size="10" primary-key="yes" descr="Unique ID for every book in the database"/>
			<column name="name" type="text" size="64" descr="Name of the book"/>
            <column name="author" type="text" size="64" descr="Name of the author(s)"/>
			<column name="genre" lookup-ref="Book_Type"/>
			<column name="isbn" type="text" size="10" descr="The 10 digit ISBN number"/>
		</table>

		<table name="Book_Type" abbrev="bkT" type="Enumeration">
			<enumerations>
				<enum>Science Fiction</enum>
				<enum>Mystery</enum>
				<enum>Business</enum>
				<enum>Information Technology</enum>
				<enum>Nuclear Physics</enum>
				<enum>Chemistry</enum>
			</enumerations>
		</table>
	</schema>

	<!--
	**********************************************************************
	** DATA MANAGEMENT QUERY (SQL) SPECIFICATIONS                       **
	********************************************************************** -->

    <queries package="library">

        <query name="get-all-books">
            select * from book_info
            <presentation>
                <panel name="Test">
                    <frame heading="static:Book Report"/>
                    <!--action caption="Frame action" hint="This is a hint" style="horizontal" command="redirect,yahoo.com"/-->
                    <report>
                        <actions>
                            <action type="add" caption="Add Book" command="redirect,yahoo.com"/>
                            <action type="edit" command="redirect,yahoo.com"/>
                            <action type="delete" command="redirect,yahoo.com"/>
                            <action type="select" caption="Process selected rows" title="Process the selected rows" command="redirect,yahoo.com"/>
                        </actions>
                        <column heading="ID" format="plain"/>
                        <column heading="Name" />
                        <column heading="Author"/>
                        <column heading="Genre"/>
                        <column heading="ISBN"/>
                    </report>
                </panel>
            </presentation>
        </query>

        <query name="get-all-book-types">
            select * from book_type
        </query>

    </queries>

</project>
