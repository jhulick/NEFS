<?xml version="1.0" encoding="UTF-8"?>
<xdm:container xmlns:xdm="http://www.netspective.org/Framework/Commons/XMLDataModel">
	<queries package="insuranceAttribute">
		<query name="productAddress">
			select
				system_id,
				Contact_Address_Type.caption,
				city || ', ' || state
			from
				InsProduct_Address,
				Contact_Address_Type
			where
				InsProduct_Address.parent_id = ? and
				InsProduct_Address.address_type_id = Contact_Address_Type.id

			<params>
				<param value="request:product_id"/>
			</params>

			<presentation>
<report heading="Address">
				<banner style="horizontal">
					<item caption="Add" icon="nav-url-cmd:/claim,statement,insuranceAttribute.productAddress,-,-,detail,-,insuranceProductAttribute.address,add?product_id"/>
				</banner>

				<column heading=" " output="Edit" url="nav-url-cmd:/claim,statement,insuranceAttribute.productAddress,-,-,detail,-,insuranceProductAttribute.address,edit?product_id&amp;address_id=${0}"/>
				<column heading="Address Type"/>
				<column heading="City"/>
				<column heading=" " output="Delete" url="nav-url-cmd:/claim,statement,insuranceAttribute.productAddress,-,-,detail,-,insuranceProductAttribute.address,delete?product_id&amp;address_id=${0}"/>
			</report>
</presentation>
		</query>

		<query name="productContact">
			select
				system_id,
				Contact_Method_Type.caption,
				method_value
			from
				InsProduct_Contact,
				Contact_Method_Type
			where
				InsProduct_Contact.parent_id = ? and
				InsProduct_Contact.method_type = Contact_Method_Type.id

			<params>
				<param value="request:product_id"/>
			</params>

			<presentation>
<report heading="Contact Information">
				<banner style="horizontal">
					<item caption="Add" icon="create-app-url:/resources/icons/addIcon.gif" url="nav-url-cmd:/claim,statement,insuranceAttribute.productContact,-,-,detail,-,insuranceProductAttribute.contact,add?product_id"/>
				</banner>

				<column heading=" " output="Edit" url="nav-url-cmd:/claim,statement,insuranceAttribute.productContact,-,-,detail,-,insuranceProductAttribute.contact,edit?product_id&amp;contact_id=${0}"/>
				<column heading="Contact Type"/>
				<column heading=" "/>
				<column heading=" " output="Delete" url="nav-url-cmd:/claim,statement,insuranceAttribute.productContact,-,-,detail,-,insuranceProductAttribute.contact,delete??product_id&amp;contact_id=${0}"/>
			</report>
</presentation>
		</query>

		<query name="productProfile">
			select
				product_id,
				product_name
			from
				Ins_Product
			where
				Ins_Product.product_id = ?
				
			<params>
				<param value="request:product_id"/>
			</params>
			
			<presentation>
<report heading="Insurance Product Profile">
				<banner style="horizontal">
					<item caption="Edit" icon="create-app-url:/resources/icons/addIcon.gif" url="nav-url-id:/claim,statement,insuranceAttribute.products-by-org,-,-,component,-,insuranceProductAttribute.profile,edit?product_id&amp;org_id"/>
				</banner>
				
				<column heading="Product ID" align="left"/>
				<column heading="Name"/>
			</report>
</presentation>
		</query>
		
		<query name="products-by-org">
			select
				product_id,
				product_name
			from
				Ins_Product
			where
				Ins_Product.org_id = ?
				
			<params>
				<param value="request:org_id"/>
			</params>
			
			<presentation>
<report heading="Insurance Products">
				<banner style="horizontal">
					<item caption="Add" icon="create-app-url:/resources/icons/addIcon.gif" url="nav-url-id:/claim,statement,insuranceAttribute.products-by-org,-,-,component,-,insuranceProduct.main,add?org_id"/>
				</banner>
				
				<column heading="&amp;nbsp;" output="Edit" url="nav-url-cmd:/claim,statement,insuranceAttribute.products-by-org,-,-,component,-,insuranceProductAttribute.profile,edit?product_id=${0}&amp;org_id"/>
				<column heading="&amp;nbsp;" output="${1}" url="nav-url:/insurance/product/summary?product_id=${0}&amp;org_id"/>
				<column heading="&amp;nbsp;" output="Delete" url="nav-url-cmd:/claim,statement,insuranceAttribute.products-by-org,-,-,component,-,insuranceProductAttribute.profile,delete?product_id=${0}&amp;org_id"/>
			</report>
</presentation>
		</query>
		
		<query name="products-by-planOrg">
			select
				insPrdA.product_name,
				insPrdA.product_id
			from
				Ins_Product insPrdA,
				Ins_Product insPrdB,
				Ins_Plan insPln
			where
				insPln.plan_id = ? and
				insPrdB.product_id = insPln.product_id and
				insPrdA.org_id = insPrdB.org_id
				
			<params>
				<param value="request:plan_id"/>
			</params>
			
			<presentation>
<report heading="Insurance Products">
				<banner style="horizontal">
					<item caption="Add" icon="create-app-url:/resources/icons/addIcon.gif" url="nav-url-cmd:/claim,statement,insuranceAttribute.products-by-org,-,-,component,-,insuranceProduct.main,add?org_id"/>
				</banner>
				
				<column heading="&amp;nbsp;" output="Edit" url="nav-url-cmd:/claim,statement,insuranceAttribute.products-by-org,-,-,component,-,insuranceProductAttribute.profile,edit?product_id=${0}"/>
				<column heading="&amp;nbsp;" output="${1}" url="nav-url:/insurance/product/summary?product_id=${0}"/>
				<column heading="&amp;nbsp;" output="Delete" url="nav-url-cmd:/claim,statement,insuranceAttribute.products-by-org,-,-,component,-,insuranceProductAttribute.profile,delete?product_id=${0}"/>
			</report>
</presentation>
		</query>
		
		<query name="plan-siblings">
			select
				insPlnA.plan_id,
				insPlnA.plan_name
			from
				Ins_Plan insPlnA,
				Ins_Plan insPlnB
			where
				insPlnB.plan_id = ? and
				insPlnA.product_id = insPlnB.product_id

			<params>
				<param value="request:plan_id"/>
			</params>
			
			<presentation>
<report heading="Insurance Plans">
				<banner style="horizontal">
					<item caption="Add" icon="create-app-url:/resources/icons/addIcon.gif" url="nav-url-cmd:/claim,dialog,insurancePlan.main,add"/>
				</banner>
				
				<column heading="&amp;nbsp;" output="Edit" url="nav-url-cmd:/claim,statement,insuranceAttribute.plan-siblings,-,-,component,-,insurancePlanAttribute.profile,edit?plan_id=${0}"/>
				<column heading="Plan" url="nav-url:/insurance/plan/summary?plan_id=${0}"/>
				<column heading="&amp;nbsp;" output="Delete" url="nav-url-cmd:/claim,statement,insuranceAttribute.plan-siblings,-,-,component,-,insurancePlanAttribute.profile,delete?plan_id=${0}"/>
			</report>
</presentation>
		</query>

		<query name="plans-by-product">
			select
				plan_id,
				plan_name
			from
				Ins_Product,
				Ins_Plan
			where
				Ins_Plan.product_id = ? and
				Ins_Plan.product_id = Ins_Product.product_id
				
			<params>
				<param value="request:product_id"/>
			</params>
			
			<presentation>
<report heading="Insurance Plans">
				<banner style="horizontal">
					
					<item caption="Add" icon="create-app-url:/resources/icons/addIcon.gif" url="nav-url-cmd:/claim,dialog,insurancePlan.main,add?product_id&amp;org_id"/>
				</banner>
				
				<column heading="&amp;nbsp;" output="Edit" url="nav-url-cmd:/claim,statement,insuranceAttribute.plan-siblings,-,-,component,-,insurancePlanAttribute.profile,edit?plan_id=${0}"/>
				<column heading="Plan" url="nav-url:/insurance/plan/summary?plan_id=${0}"/>
				<column heading="&amp;nbsp;" output="Delete" url="nav-url-cmd:/claim,statement,insuranceAttribute.plan-siblings,-,-,component,-,insurancePlanAttribute.profile,delete?plan_id=${0}"/>
			</report>
</presentation>
		</query>
		
		<query name="planAddress">
			select
				system_id,
				Contact_Address_Type.caption,
				city || ', ' || state
			from
				InsPlan_Address,
				Contact_Address_Type
			where
				InsPlan_Address.parent_id = ? and
				InsPlan_Address.address_type_id = Contact_Address_Type.id

			<params>
				<param value="request:plan_id"/>
			</params>

			<presentation>
<report heading="Address">
				<record-add-caption>Add</record-add-caption>
				<record-add-url>config-expr:${create-app-url:/insurance/plan/summary.jsp}?plan_id=${request:plan_id}&amp;parent_id=${request:plan_id}&amp;cmd=statement,insuranceAttribute.planAddress,-,-,record-editor,-,insuranceAttribute.insurancePlanAddressTableDialog,add</record-add-url>
				<record-edit-url>config-expr:${create-app-url:/insurance/plan/summary.jsp}?plan_id=${request:plan_id}&amp;parent_id=${request:plan_id}&amp;address_id=${0}&amp;cmd=statement,insuranceAttribute.planAddress,-,-,record-editor,-,insuranceAttribute.insurancePlanAddressTableDialog,edit</record-edit-url>
				<record-delete-url>config-expr:${create-app-url:/insurance/plan/summary.jsp}?plan_id=${request:plan_id}&amp;parent_id=${request:plan_id}&amp;address_id=${0}&amp;cmd=statement,insuranceAttribute.planAddress,-,-,record-editor,-,insuranceAttribute.insurancePlanAddressTableDialog,delete</record-delete-url>
				<column index="0" display="no"/>
				<column heading="Address Type"/>
				<column heading="City"/>
			</report>
</presentation>

			<presentation>
<report heading="Address">
				<banner style="horizontal">
					<item caption="Add" icon="nav-url-cmd:/claim,statement,insuranceAttribute.planAddress,-,-,detail,-,insurancePlanAttribute.address,add?plan_id&amp;org_id"/>
				</banner>

				<column heading=" " output="Edit" url="nav-url-cmd:/claim,statement,insuranceAttribute.planAddress,-,-,detail,-,insurancePlanAttribute.address,edit?address_id=${0}&amp;plan_id&amp;org_id"/>
				<column heading="Address Type"/>
				<column heading="City"/>
				<column heading=" " output="Delete" url="nav-url-cmd:/claim,statement,insuranceAttribute.planAddress,-,-,detail,-,insurancePlanAttribute.address,delete?plan_id&amp;org_id&amp;address_id=${0}"/>
			</report>
</presentation>
		</query>

		<query name="planContact">
			select
				system_id,
				Contact_Method_Type.caption,
				method_value
			from
				InsPlan_Contact,
				Contact_Method_Type
			where
				InsPlan_Contact.parent_id = ? and
				InsPlan_Contact.method_type = Contact_Method_Type.id

			<params>
				<param value="request:plan_id"/>
			</params>

			<presentation>
<report heading="Contact Information">
				<banner style="horizontal">
					<item caption="Add" icon="create-app-url:/resources/icons/addIcon.gif" url="nav-url-cmd:/claim,statement,insuranceAttribute.planContact,-,-,detail,-,insurancePlanAttribute.contact,add?plan_id&amp;org_id"/>
				</banner>

				<column heading=" " output="Edit" url="nav-url-cmd:/claim,statement,insuranceAttribute.planContact,-,-,detail,-,insurancePlanAttribute.contact,edit?plan_id&amp;org_id&amp;contact_id=${0}"/>
				<column heading="Contact Type"/>
				<column heading=" "/>
				<column heading=" " output="Delete" url="nav-url-cmd:/claim,statement,insuranceAttribute.planContact,-,-,detail,-,insurancePlanAttribute.contact,delete?plan_id&amp;org_id&amp;contact_id=${0}"/>
			</report>
</presentation>
		</query>

		<query name="planProfile">
			select
				plan_id,
				Ins_Product.product_id,
				Ins_Product.product_name,
				plan_name
			from
				Ins_Product,
				Ins_Plan
			where
				Ins_Plan.plan_id = ? and
				Ins_Plan.product_id = Ins_Product.product_id
				
			<params>
				<param value="request:plan_id"/>
			</params>
			
			<presentation>
<report heading="Insurance Plans">
				<banner style="horizontal">
					<item caption="Edit" icon="create-app-url:/resources/icons/addIcon.gif" url="nav-url-cmd:/claim,statement,insuranceAttribute.plan-siblings,-,-,component,-,insurancePlanAttribute.profile,edit?plan_id&amp;org_id"/>
				</banner>
				
				<column heading="Plan ID" align="left"/>
				<column display="no"/>
				<column heading="Product" url="nav-url:/insurance/product/summary?product_id=${1}&amp;org_id"/>
				<column heading="Plan"/>
			</report>
</presentation>
		</query>
	</queries>
</xdm:container>
