<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
"http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd" [
<!ENTITY __nef-assumptions__drd5vrj0 SYSTEM "../nef-reusable-content/nef-assumptions.xml">
<!ENTITY __nef-sampler-setup__drd8289e SYSTEM "../nef-reusable-content/nef-sampler-setup.xml">
]>
<article>
  <title>NEFS Sampler Tutorial</title>

  <section>
    <title>Objectives</title>

    <para>Welcome to the NEFS Sampler Tutorial (Tour)! This tutorial aims at
    giving you a tour of the NEFS Sampler. It facilitates your learning by
    reducing the learning time through quick familiarization with various
    Sampler sections. You don't have to worry about learning the use of
    Sampler. Instead, you can concentrate on the core concepts being
    highlighted by the Sampler sections.</para>

    <section>
      <title>Learning Objectives Checklist</title>

      <para>At the end of this tutorial, you should be able to
      understand:</para>

      <itemizedlist>
        <listitem>
          <para>the objectives of NEFS Sampler</para>
        </listitem>

        <listitem>
          <para>how to set up the NEFS Sampler at your application
          server</para>
        </listitem>

        <listitem>
          <para>how to view the XDM code within NEFS Sampler</para>
        </listitem>

        <listitem>
          <para>purpose of NEFS Sampler sections</para>
        </listitem>

        <listitem>
          <para>usage of NEFS Sampler sections</para>
        </listitem>
      </itemizedlist>
    </section>
  </section>

  &__nef-assumptions__drd5vrj0;

  <section>
    <title>Starting the NEFS Sampler</title>

    <para>There are two ways of exploring the NEFS Sampler:</para>

    <section>
      <title>Trying the NEFS Sampler Application Online</title>

      <para>You may test the Sampler Application online at <ulink
      url="http://www.netspective.com/corp/products/frameworks/try">http://www.netspective.com/corp/products/frameworks/try</ulink>
      All you need is a web browser and you can start using the NEF Sampler
      immediately.</para>

      <screenshot>
        <graphic fileref="./resources/images/screen-sampler-test-online.gif" />
      </screenshot>
    </section>

    &__nef-sampler-setup__drd8289e;
  </section>

  <section>
    <title>NEFS Sampler Objectives</title>

    <para>As the name suggests, the purpose of NEFS Sampler Application is to
    give you an idea of how easy it is to build J2EE web applications using
    the powerful building blocks provided by our Java Frameworks. The NEFS
    Sampler uses an interactive mode thus making it easy to understand and use
    the samples. It includes various examples of creating forms and input
    fields, performing a variety of different data validations and executing
    forms to provide end-user functionality.</para>

    <para>Although you start with simple NEFS usage examples, as you learn
    more about Sparx and Axiom you will see that flexibility and extensibility
    are also a part of their attributes.</para>
  </section>

  <section>
    <title>Viewing the XDM Code</title>

    <para>The eXtensible Markup Language (XML) plays an important role in
    NEF's ease of use, extensibility, and code generation. NEF declarations
    are performed using XML -- all dialogs, fields, validation rules, some
    conditional processing, all SQL statements, dynamic queries, configuration
    files, database schemas, and many other resources are stored in XML files
    that are re-usable across applications.</para>

    <para><acronym>XDM</acronym> is an acronym for "XML Data Model" and is
    designed to help Java programmers construct and configure Java objects
    using XML files without worrying about parsing and error checking. The
    <filename class="directory">APP_ROOT</filename>/<filename
    class="directory">WEB-INF</filename>/<filename
    class="directory">sparx</filename>/<filename>project.xml</filename> file
    uses XDM to declare all project components.</para>

    <para></para>

    <para>In the Sampler app if you see the <guiicon>XML</guiicon> icon along
    with a <emphasis>View Page XDM Code</emphasis> link, at the bottom of the
    page, you can view the Netspective Xml Data Model (XDM) source code for
    various objects on the page. This helps you view the XML code and see it
    working on the same page.</para>

    <screenshot>
      <graphic fileref="./resources/images/screen-sampler-XDM-link.gif" />
    </screenshot>

    <para>The <guiicon>XML</guiicon> icon also appears under various panels
    (like forms/dialogs) to see their code as well.</para>

    <screenshot>
      <graphic fileref="./resources/images/screen-sampler-view-panel-XDM.gif" />
    </screenshot>

    <para>Clicking on the <emphasis>View Page XDM Code</emphasis> link to see
    the XML code (as shown below): [TODO: Put image with the callouts]</para>

    <screenshot>
      <graphic fileref="./resources/images/screen-sampler-show-XDM.gif" />
    </screenshot>

    <orderedlist>
      <listitem>
        <para>The link to Hide the currently visible XDM code. Clicking on
        this link hides the currently visible XDM code.</para>
      </listitem>

      <listitem>
        <para>Location of the currently open XDM code in the application's
        project file (<filename class="directory">WEB-INF</filename>/<filename
        class="directory">sparx</filename>/<filename>project.xml</filename>).
        Clicking on this link takes you to the <guimenu>Project</guimenu> |
        <guisubmenu>Project Files</guisubmenu> section of the Sampler app's
        Console, with Sampler app project file being displayed in browse
        mode.</para>

        <screenshot>
          <graphic fileref="./resources/images/screen-sampler-view-prj-file.gif" />
        </screenshot>
      </listitem>

      <listitem>
        <para>Java class file being instantiated for this page. Clicking on
        this link takes you to the <guimenu>Project</guimenu> |
        <guisubmenu>Project Files</guisubmenu> section of the Sampler app's
        Console, with the selected java file
        (<classname>AppPage.java</classname> in this case) being displayed in
        browse mode.</para>

        <screenshot>
          <graphic fileref="./resources/images/screen-sampler-view-java.gif" />
        </screenshot>
      </listitem>

      <listitem>
        <para>XDM code (from the Sampler app project file) corresponding to
        the currently opened page.</para>
      </listitem>
    </orderedlist>
  </section>

  <section>
    <title>Viewing Project Folder and Files</title>

    <para>At the end of the Sampler App Home page, there is a link for browing
    through all the source directories and files of the Sampler App.</para>

    <screenshot>
      <graphic fileref="./resources/images/screen-sampler-prj-folder-link.gif" />
    </screenshot>

    <para>When you click on the <emphasis>browse</emphasis> link, it takes you
    to the <guimenu>Project</guimenu> | <guisubmenu>Project Files</guisubmenu>
    section of Sampler app Console, displaying all the source folders and
    files for the Sampler app.</para>

    <screenshot>
      <graphic fileref="./resources/images/screen-sampler-prj-folder.gif" />
    </screenshot>
  </section>

  <section>
    <title>NEFS Sampler Main Components</title>

    <para>The NEFS Sampler groups the samples into following logical
    sections:</para>

    <itemizedlist>
      <listitem>
        <para>Home</para>
      </listitem>

      <listitem>
        <para>Forms Input</para>
      </listitem>

      <listitem>
        <para>Forms Execution</para>
      </listitem>

      <listitem>
        <para>Access Control</para>
      </listitem>

      <listitem>
        <para>Play</para>
      </listitem>

      <listitem>
        <para>Sitemap</para>
      </listitem>

      <listitem>
        <para>Console</para>
      </listitem>

      <listitem>
        <para>Sample Apps Home</para>
      </listitem>
    </itemizedlist>

    <section>
      <title>Home</title>

      <para>This is the Welcome page for the Sampler. It outlines the
      objectives of the Sampler and also contains a list of links pointing to
      the logical sections of the Sampler. You may access the Sampler sections
      by these links or the tabs provided the top of the page.</para>

      <screenshot>
        <graphic fileref="./resources/images/screen-sampler-app-home.gif" />
      </screenshot>
    </section>

    <section>
      <title>Forms Input</title>

      <para>This module contains samples that demonstrate how forms and input
      fields are created in Sparx. There are many examples that show how quick
      and easy it is to set up forms to accept input values and automatically
      validate them.</para>

      <para>The examples contained in this section are further divided into
      sub-categories. The <emphasis>Forms Input</emphasis> page contains a
      list of links to its children pages containing the categorized example
      pages. Links to these children pages are also provided through a submenu
      bar under the <emphasis>Forms Input</emphasis> tab.</para>

      <screenshot>
        <graphic fileref="./resources/images/screen-sampler-form-inputs-main.gif" />
      </screenshot>

      <section>
        <title>Text</title>

        <para>The Framework provides different styles of displaying text input
        fields. One is a simple one line text input field while another is a
        multi-line text input field.</para>

        <para>The Line-based text input examples are included under
        <guimenuitem>Line-oriented</guimenuitem> submenu.</para>

        <figure>
          <title>Sample Page for Line-oriented Text Fields</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="./resources/images/screen-sampler-line.gif" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>The sample text fields on this page show the usage of static
        text fields, input text fields (text boxes), <type>email</type> fields
        and masked fields for password entry. You can also see how to
        associate hints with a particular text input field. The example also
        implements field validation. Click on the <command>OK</command> button
        to see how field validation messages are displayed.</para>

        <figure>
          <title>Field Validation Messages</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="./resources/images/screen-sampler-line-validate.gif" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>At times you need multi-line fields (e.g. text area) for your
        text input. The <guimenuitem>Block-oriented</guimenuitem> submenu
        contains examples highlighting the block based text input. <figure>
            <title>Sample Page for Block-oriented Text Fields</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-text-block.gif" />
              </imageobject>
            </mediaobject>
          </figure></para>

        <para>This page shows the usage of <type>memo</type> and template
        fields using custom <acronym>CSS</acronym> and
        <acronym>HTML</acronym>. The sample page also incorporates error
        messages using message boxes (as shown in the above image).</para>
      </section>

      <section>
        <title>Numbers</title>

        <para>This page demonstrates the usage of various types of numeric
        fields that are available: float, integer, currency, phone, and zip
        code. Each type have their own validation rules and formatting
        patterns.</para>

        <figure>
          <title>Sample Page for Numeric Fields</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="./resources/images/screen-sampler-numbers.gif" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>

      <section>
        <title>Boolean</title>

        <para>This page demonstrates usage of boolean fields which are fields
        that can only have a value that is either true or false. There are
        several display styles available for boolean fields: radio,
        check-alone, popup, and combo.</para>

        <figure>
          <title>Sample Page for Boolean Fields</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="./resources/images/screen-sampler-boolean.gif" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>

      <section>
        <title>Selection</title>

        <para>This page demonstrates how to create and use fields that allow
        selection of values. There are several styles available: list,
        multidual, multilist, combo, radio, and multicheck. You can also see
        the implementation for <type>popup</type> based select field.</para>

        <figure>
          <title>Sample Page for Select Fields</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="./resources/images/screen-sampler-select.gif" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>

      <section>
        <title>Conditional Select</title>

        <para>This page demonstrates how to create and use fields that allow
        selection of values and auto submit forms that will do other data
        population from the server side (for conditional values).</para>

        <figure>
          <title>Sample Page for Conditional Select Fields</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="./resources/images/screen-sampler-conditional-select.gif" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>

      <section>
        <title>Grids</title>

        <para>This page demonstrates how to create and use grid and composite
        fields. A composite field can be described as a logical field that
        contains several children fields. Usually, a grid field will have
        multiple composite fields which act as rows.</para>

        <figure>
          <title>Sample Page for Grid and CompositeFields</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="./resources/images/screen-sampler-grids.gif" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>

      <section>
        <title>Conditionals</title>

        <para>This page demonstrates how flags and values can be applied to a
        dialog field based on conditionals defined for that field. Conditional
        fields are fields whose state depends upon the state of other entities
        (in this case, other fields called <emphasis>partner</emphasis>
        fields).</para>

        <figure>
          <title>Sample Page for Conditional Fields</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="./resources/images/screen-sampler-conditional.gif" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>

      <section>
        <title>Popups</title>

        <para>This page demonstrates how to create and use popup fields. Sparx
        provides a feature to display a popup dialog box when a popup icon is
        clicked and values from a selection in the popup can be returned to
        the main window. Popup fields are visually identifiable by their
        special magnifying glass icon beside them.</para>

        <figure>
          <title>Sample Page for Popup Fields</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="./resources/images/screen-sampler-popups.gif" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>

      <section>
        <title>Date/Time</title>

        <para>This page demonstrates how to create and use date/time fields.
        There are several versions of date/time fields that are available:
        time, date, date and time, and duration.</para>

        <figure>
          <title>Sample Page for Date/TimeFields</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="./resources/images/screen-sampler-date-time.gif" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>

      <section>
        <title>Advanced</title>

        <para>This page and its children pages are for demonstrating more
        advanced usage of the built-in features of the dialog fields.</para>

        <section>
          <title>Client-side Script</title>

          <para>This page demonstrates how to "plug" <emphasis>custom
          javascript</emphasis> calls to the client-side events (e.g. click,
          value-changed, lose-focus, key-press, is-valid) of the dialog
          fields.</para>

          <figure>
            <title>Sample Page for Custom Javascript</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-js.gif" />
              </imageobject>
            </mediaobject>
          </figure>
        </section>

        <section>
          <title>Perspectives</title>

          <para>Generally dialogs are used for different data processing
          actions: entering new data, editing existing data, and deleting
          existing data. The Framework considers these separate data
          processing actions as <emphasis>perspectives</emphasis> of the
          dialog. Thus, there are several different perspectives to which a
          dialog can be set to: <emphasis>add</emphasis>,
          <emphasis>edit</emphasis>, <emphasis>delete</emphasis>,
          <emphasis>print</emphasis>, and <emphasis>confirm</emphasis>. This
          page demonstrates the usage of data perspectives for filling dialog
          fields.</para>

          <figure>
            <title>Sample Page for Perspectives</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-perspective.gif" />
              </imageobject>
            </mediaobject>
          </figure>
        </section>

        <section>
          <title>Hidden Fields</title>

          <para>This page demonstrates different usages of <emphasis>hidden
          fields</emphasis> in a dialog. Hidden fields are useful for keeping
          track of information that you don't want the user to see.</para>

          <figure>
            <title>Sample Page for Hidden Fields</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-hidden.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>Click the <command>OK</command> button. The dialog context is
          displayed in debug mode (as shown below). You may check the values
          of the hidden fields and other dialog fields from there.</para>

          <figure>
            <title>Dialog Context Debug Information</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-hidden-dc-debug.gif" />
              </imageobject>
            </mediaobject>
          </figure>
        </section>

        <section>
          <title>Command Fields</title>

          <para>This page demonstrates the usage of a <sgmltag>List</sgmltag>
          command to populate a dialog field. Only certain commands can be
          used for dialog fields. Commands execute arbitrary tasks defined
          either by you or the framework. They are used to encapsulate common
          logic and reuse that logic across pages and dialogs (forms). For
          information on <emphasis>Commands</emphasis> in general, please
          consult the <emphasis>User Manual</emphasis>.</para>

          <figure>
            <title>Sample Page for List Command</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-command.gif" />
              </imageobject>
            </mediaobject>
          </figure>
        </section>
      </section>
    </section>

    <section>
      <title>Forms Execution</title>

      <para>This module contains samples that demonstrate how forms are
      executed in Sparx. While the Forms Input module described how to create
      forms and fields, this module deals with how to perform actions based on
      already validated input. Numerous examples delve into how to perform
      custom validation and execute dialog handlers based on existing Sparx
      functionality or creating your own through inheritance and
      delegation.</para>

      <para>The examples contained in this section are further divided into
      sub-categories. The <emphasis>Forms Execution</emphasis> page contains a
      list of links to its children pages containing the categorized example
      pages. Links to these children pages are also provided through a submenu
      bar under the <emphasis>Forms Execution</emphasis> tab.</para>

      <section>
        <title>Director</title>

        <para>This page demonstrates the usage of a <emphasis>Dialog
        Director</emphasis> which controls destinations after successful form
        submission and the display of the dialog buttons. </para>

        <figure>
          <title>Sample Page for Director</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="./resources/images/screen-sampler-director.gif" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Select the value from the <varname>Next Action</varname> select
        box and click the <command>OK</command> button to see the execution of
        next action for this dialog.</para>

        <para>The XML Code that configures the Dialog Director is given
        below:</para>

        <example>
          <title>XML for Using the Dialog Director</title>

          <programlisting>&lt;project&gt;
...
 &lt;dialog type="exec-sample" name="director-next-action" redirect-after-execute="yes"&gt; <co
              id="declare-director-tags-eg-1" />
    &lt;frame heading="Test Dialog Director's Next Action"/&gt;
    &lt;field type="html"&gt;
        &lt;body&gt;
            &lt;![CDATA[
            &lt;div class="textbox"&gt;
            Every dialog is associated with a &lt;i&gt;Director&lt;/i&gt; which controls the actions available inside&lt;br&gt;
            the form (such as the &lt;i&gt;Submit&lt;/i&gt; and &lt;i&gt;Cancel&lt;/i&gt; buttons) and the destination page to&lt;br&gt;
            redirect to after the execution of the dialog. Visually the &lt;i&gt;Director&lt;/i&gt; can be configured&lt;br&gt;
            to display multiple destinations to allow users to select the destination as shown in&lt;br&gt;
            this dialog.
            &lt;/div&gt;
            &lt;hr/&gt;
            ]]&gt;
        &lt;/body&gt;
    &lt;/field&gt;
    &lt;field type="text" name="text_field" caption="Text Field (formOrRequestAttr)"
        default="request:value"/&gt;
    &lt;director&gt; <co id="declare-director-tags-eg-2" />
        &lt;next-actions caption="Next Action\:" choices="text-list:Netspective=a;Google=y"
            display-single-action="yes"/&gt; <co
              id="declare-director-tags-eg-3" />
    &lt;/director&gt;
&lt;/dialog&gt;

...
&lt;/project&gt;</programlisting>

          <calloutlist>
            <callout arearefs="declare-director-tags-eg-1">
              <para>The <sgmltag>dialog</sgmltag> tag defines a dialog using
              <sgmltag>exec-sample</sgmltag> template as the dialog-type.
              </para>
            </callout>

            <callout arearefs="declare-director-tags-eg-2">
              <para>The <sgmltag>director</sgmltag> tag is used to define the
              director to be associated with this dialog.</para>
            </callout>

            <callout arearefs="declare-director-tags-eg-3">
              <para>Configuring the director to display multiple
              destinations.</para>
            </callout>
          </calloutlist>
        </example>
      </section>

      <section>
        <title>Templates</title>

        <para>This page demonstrates the ability to
        <emphasis>execute</emphasis> templates or display JSP output after
        successful submission of a dialog. Usually executing a template means
        displaying the output from a template processing engine.</para>

        <section>
          <title>Body in XML</title>

          <para>This page contains an example of a dialog which will execute a
          template body defined in the dialog's XML declaration and display
          the output. The XML template is used to display the Welcome message
          to user. </para>

          <figure>
            <title>Sample Page for Templates using Body in XML</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-template-xml.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>The XML Code for using the
          <productname>FreeMarker</productname> template (embedded within
          <classname>project.xml</classname>) is given below:</para>

          <example>
            <title>XML Code for Using Template (embedded in
            project.xml)</title>

            <programlisting>&lt;project&gt;
...
 &lt;dialog <emphasis>type="exec-sample"</emphasis> name="body-xml"&gt; <co
                id="declare-template-in-prj-file-eg-1" />
    &lt;frame heading="Hello World Form"/&gt;
    &lt;field type="text" name="first_name" caption="First Name" required="yes"/&gt;
    &lt;field type="text" name="last_name" caption="Last Name" required="yes"/&gt;

    &lt;on-execute <emphasis>handler="template"</emphasis>&gt; <co
                id="declare-template-in-prj-file-eg-2" />
        &lt;![CDATA[
        Welcome to NEFS, <emphasis>${vc.fieldStates.getState("first_name").value.textValue}</emphasis> <co
                id="declare-template-in-prj-file-eg-3" />
        ${vc.fieldStates.getState("last_name").value.textValue}.
        &lt;p&gt;Form1 demonstrated how you can take two
        pieces of data and execute an arbritrary &lt;a href="http://www.freemarker.org"&gt;FreeMarker&lt;/a&gt; 
        template embedded in the project.xml file.
        ]]&gt;
    &lt;/on-execute&gt;
 &lt;/dialog&gt;
&lt;/project&gt;</programlisting>

            <calloutlist>
              <callout arearefs="declare-template-in-prj-file-eg-1">
                <para>Declaring a dialog using
                "<sgmltag>exec-sample</sgmltag>" template as the dialog
                type.</para>
              </callout>

              <callout arearefs="declare-template-in-prj-file-eg-2">
                <para>The <sgmltag>handler</sgmltag> attribute of
                <sgmltag>on-execute</sgmltag> tag specifies the
                "<sgmltag>template</sgmltag>" handler for this dialog. Sparx
                provides various handlers for the dialogs (forms):
                <emphasis>include</emphasis>, <emphasis>mail</emphasis>,
                <emphasis>command</emphasis>, <emphasis>panels</emphasis> and
                <emphasis>style-sheet</emphasis>.</para>
              </callout>

              <callout arearefs="declare-template-in-prj-file-eg-3">
                <para>Retrieving the value of dialog (form) fields, from their
                value contexts.</para>
              </callout>
            </calloutlist>
          </example>

          <note>
            <para>In the above example, the template is embedded within
            <filename>project.xml</filename></para>
          </note>
        </section>

        <section>
          <title>Body in File</title>

          <para>This page contains an example of a dialog which will execute a
          template body defined in a seperate file and display the
          output.</para>

          <figure>
            <title>Sample Page for Templates using Body in a Separate
            File</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-template-file.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>This example shows a Welcome message, obtained from a separate
          file, to the user. It also explains the loop attribute of dialog
          tag. To return to the dialog, you will need to click on the
          <emphasis>Return to dialog</emphasis> link provided on the page (as
          shown below):</para>

          <figure>
            <title>Returning to the Dialog</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-template-file-msg.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>The XML Code for using the
          <productname><productname>FreeMarker</productname></productname>
          template (available in a separate file) is given below:</para>

          <example>
            <title>XML Code for Using Template (in a separate file)</title>

            <programlisting>&lt;project&gt;
...
 &lt;dialog type="exec-sample" name="body-file" <emphasis>loop="no"</emphasis>&gt; <co
                id="declare-template-in-sep-file-eg-1" />
    &lt;frame heading="Hello World Form"/&gt;
    &lt;field type="text" name="full_name" caption="Full Name" required="yes"/&gt;
    &lt;field type="date" name="birth_date" caption="Birth Date" required="yes" popup-calendar="yes"/&gt; 

    &lt;on-execute handler="template"&gt;
        <emphasis>&lt;source&gt;form/exec/template-body-file.ftl&lt;/source&gt;</emphasis> <co
                id="declare-template-in-sep-file-eg-2" />
    &lt;/on-execute&gt;
 &lt;/dialog&gt;

&lt;/project&gt;</programlisting>

            <calloutlist>
              <callout arearefs="declare-template-in-sep-file-eg-1">
                <para>The <sgmltag>loop</sgmltag> attribute of
                <sgmltag>dialog</sgmltag> tag is used to specify not to show
                the dialog after the dialog executes. </para>
              </callout>

              <callout arearefs="declare-template-in-sep-file-eg-2">
                <para>Source tag is used to specify the template source file
                to be used (<filename>template-body-file.ftl</filename> in
                this case)</para>
              </callout>
            </calloutlist>
          </example>
        </section>

        <section>
          <title>Body in JSP</title>

          <para>This page contains an example of a dialog which will display
          an output from a JSP upon execution.</para>

          <figure>
            <title>Sample Page for Templates using Body in a JSP File</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-template-jsp.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>This example shows a Welcome message, obtained from a JSP
          file, to the user. It also explains the loop attribute of dialog
          tag. To return to the dialog, you will need to click on the
          <emphasis>Return to dialog</emphasis> link provided on the page (as
          shown below):</para>

          <figure>
            <title>Returning to the Dialog</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-template-jsp-msg.gif" />
              </imageobject>
            </mediaobject>
          </figure>
        </section>
      </section>

      <section>
        <title>Handlers</title>

        <para>This page demonstrates the usage of various
        <emphasis>handlers</emphasis> for the execution of a dialog. These
        handlers are processed once the internal validation of the dialog is
        complete and the dialog is ready to be be executed. Handlers are
        special built-in actions defined for convenience and reusability:
        <emphasis>url</emphasis>, <emphasis>mail</emphasis>,
        <emphasis>command</emphasis>, <emphasis>panels</emphasis>, and
        <emphasis>style-sheet</emphasis>. For defining more complex actions
        and logic for execution, please take a look at the
        <emphasis>inheritence</emphasis> or <emphasis>delegation</emphasis>
        examples.</para>

        <section>
          <title>Include URL</title>

          <para>This page contains an example of a dialog which has a handler
          that will display HTML from an external page.</para>

          <figure>
            <title>Sample Page for HTML Include of an External Page</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-include-url.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>Enter a URL and click the OK button. The contents of the
          target page, pointed to by this supplied URL, is displayed (as shown
          below):</para>

          <figure>
            <title>Contents of the External Page</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-inc-url-html.gif" />
              </imageobject>
            </mediaobject>
          </figure>
        </section>

        <section>
          <title>Send Mail</title>

          <para>This page contains an example of a dialog which has a handler
          that will send an email upon execution of the dialog.</para>

          <figure>
            <title>Sample Page for Send Mail</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-send-mail.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>Enter the values for the mail dialog fields and click the
          <command>OK</command> button. [TODO: put details/image of successful
          mail send]</para>
        </section>

        <section>
          <title>Exec Command</title>

          <para>This page contains an example of a dialog which has a handler
          that will process a command upon execution of the dialog. [TODO:
          image of exec command]</para>
        </section>

        <section>
          <title>Exec Panels</title>

          <para>This page contains an example of a dialog which has a handler
          that will display panels upon execution of the dialog. The panels
          can contain html from various entities such as JSPs or URLs.</para>

          <figure>
            <title>Sample Page for Execution of Panels</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-exec-handler.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>Provide a local source for HTML
          (<literal>/jsp/panel-inc-test.jsp</literal> in the above example)
          for <varname>Include Local</varname> field and a URL
          (<literal>http://www.yahoo/com</literal> in this case) as the value
          for <varname>Command 2</varname> field. Click the
          <command>OK</command> button. The HTML contents from the jsp and the
          yahoo web site are displayed in two different panels (as shown
          below):</para>

          <figure>
            <title>HTML Loaded in Two Panels</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-exec-handler-msg.gif" />
              </imageobject>
            </mediaobject>
          </figure>
        </section>

        <section>
          <title>Transform Bean</title>

          <para>This page contains an example of a dialog which has a handler
          that will display output from a XSL style sheet transformation upon
          execution of the dialog.</para>

          <figure>
            <title>Sample Page for XSL Transformation</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-transform-bean.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>The XSL style sheet is provided in the dialog. Click on the
          <command>OK</command> button to see the transformed XML for the
          dialog's <emphasis>Context Bean</emphasis> (as shown below):</para>

          <figure>
            <title>Transformed XML for Dialog's Context Bean</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-transform-bean-1.gif" />
              </imageobject>
            </mediaobject>
          </figure>
        </section>

        <section>
          <title>Transform File</title>

          <para>This page contains an example of a dialog which has a handler
          that will display output from a XSL style sheet transformation upon
          execution of the dialog.</para>

          <figure>
            <title>Sample Page for XSL Transformation</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-transform-file.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>This dialog asks for a source XML or XSL file to be converted.
          The XSL to be applied can also be selected using the
          <varname>Stylesheet File</varname> select field in the dialog.
          Select the XML <filename>test-transform.xml</filename> file as the
          <varname>Source File</varname> and click the <command>OK</command>
          button. The transformed XML is displayed (as shown below):</para>

          <figure>
            <title>Transformed XML File</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-transform-file-1.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>You may also test the transformation of the XSL source file
          itself by selecting it as the source file. The transformed XSL file
          is displayed (as shown below):</para>

          <figure>
            <title>Transformed XSL File</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-transform-file-2.gif" />
              </imageobject>
            </mediaobject>
          </figure>
        </section>
      </section>

      <section>
        <title>Inheritance</title>

        <para>This page demonstrates the <emphasis>inheritance</emphasis>
        model for defining custom logic or action for different stages of a
        dialog. This model should only be used for the most complex cases
        where you need to override the default behavior of the dialog. By
        extending the default dialog class, com.netspective.sparx.form.Dialog,
        you have full control over the dialog and its behavior.</para>

        <section>
          <title>Exec 1 A</title>

          <para>This page contains a dialog which has a custom dialog class
          that overrides only the default execution behavior of the
          dialog.</para>

          <figure>
            <title>Sample Page for Handling Dialog 1A (through
            Inheritance)</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-dialog-1a.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>Enter a value for <varname>Full Name</varname> field and click
          the <command>OK</command> button. The custome java class
          (<classname>SampleExecuteDialog</classname> in this case) displays a
          <emphasis>Welcome</emphasis> message along with the supplied name
          (as shown below):</para>

          <figure>
            <title>Welcome Message Generated by the Custom Class</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-dialog-1a-msg.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>[TODO: Replace with new image after correcting the class path
          issue]</para>
        </section>

        <section>
          <title>Exec 1 B</title>

          <para>This page contains a dialog which has a custom dialog class
          that overrides only the default execution behavior of the
          dialog.</para>

          <figure>
            <title>Sample Page for Handling Dialog 1B (through
            Inheritance)</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-dialog-1b.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>Enter a value for <varname>Full Name</varname> and
          <varname>Age</varname> fields and click the <command>OK</command>
          button. In the Sampler app, the custom java class
          <classname>SampleExecuteDialog</classname> handles this dialog as
          well. Note the message about the supplied age (as shown
          below):</para>

          <figure>
            <title>Welcome Message Generated by the Custom Class</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-dialog-1b-msg.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>[TODO: Replace with new image after correcting the class path
          issue] You may view the code for custom java class using the link
          provided in the message. This opens the java source code in the
          Console.</para>

          <figure>
            <title>Source File for Custom Class</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-inherit-custom-class.gif" />
              </imageobject>
            </mediaobject>
          </figure>
        </section>

        <section>
          <title>Validation</title>

          <para>This page contains a dialog which has a custom dialog class
          that overrides the default population, validation, and execution
          behaviors of the dialog.</para>

          <figure>
            <title>Sample Page for Validation using Custom Class (through
            Inheritance)</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-inherit-validate.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>Enter the values for the dialog fields and click the
          <command>OK</command> button (as shown in the image above). The
          custom validation class (<classname>SampleValidateDialog</classname>
          in this case) checks the entered values and displays the validation
          messages, if any (as shown below):</para>

          <figure>
            <title>Validation Messages Generated by Custom Class</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-inherit-validate-msg.gif" />
              </imageobject>
            </mediaobject>
          </figure>
        </section>
      </section>

      <section>
        <title>Delegation</title>

        <para>This page demonstrates the delegation model for defining custom
        logic or action for different stages of a dialog. The Framework allows
        definition of various listeners for different stages of a dialog. By
        implementing the listener interfaces and then assigning the custom
        listeners to a dialog, these listeners will get executed.</para>

        <section>
          <title>Exec 1 A</title>

          <para>This page demonstrates an <emphasis>execution</emphasis>
          listener for the <emphasis>delegation</emphasis> model. An execution
          listener implements the
          com.netspective.sparx.form.handler.DialogExecuteHandler
          interface.</para>

          <figure>
            <title>Sample Page for Handling Dialog 1A (through
            Delegation)</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-deleg-1a.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>Enter a value for <varname>Full Name</varname> field and click
          the <command>OK</command> button. The custome java class
          (<classname>SampleExecuteHandler</classname> in this case) displays
          a <emphasis>Welcome</emphasis> message along with the supplied name
          (as shown below):</para>

          <figure>
            <title>Welcome Message Generated by the Custom Class</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-deleg-1a-msg.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>[TODO: Replace with new image after correcting the class path
          issue]</para>
        </section>

        <section>
          <title>Exec 1 B</title>

          <para>This page demonstrates an <emphasis>execution</emphasis>
          listener for the <emphasis>delegation</emphasis> model. An execution
          listener implements the
          com.netspective.sparx.form.handler.DialogExecuteHandler
          interface.</para>

          <figure>
            <title>Sample Page for Handling Dialog 1B (through
            Delegation)</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-deleg-1b.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>Enter a value for <varname>Full Name</varname> and
          <varname>Age</varname> fields and click the <command>OK</command>
          button. In the Sampler app, the custom java class
          <classname>SampleExecuteHandler</classname> handles this dialog as
          well. Note the message about the supplied age (as shown
          below):</para>

          <figure>
            <title>Welcome Message Generated by the Custom Class</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-deleg-1b-msg.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>[TODO: Replace with new image after correcting the class path
          issue] You may view the code for custom java class using the link
          provided in the message. This opens the java source code in the
          Console.</para>

          <figure>
            <title>Source File for Custom Class</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-deleg-class.gif" />
              </imageobject>
            </mediaobject>
          </figure>
        </section>

        <section>
          <title>Validation</title>

          <para>This page contains a dialog that demonstrates
          <emphasis>validation</emphasis>, <emphasis>population</emphasis>,
          and <emphasis>execution</emphasis> listeners for the
          <emphasis>delegation</emphasis> model. A listener class can
          implement various listener interfaces to define custom business
          logic for various dialog stages.</para>

          <figure>
            <title>Sample Page for Validation using Custom Class (through
            Delegation)</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-deleg-validate.gif" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>Enter the values for the dialog fields and click the
          <command>OK</command> button (as shown in the image above). The
          custom validation class (<classname>SampleValidateDialog</classname>
          in this case) checks the entered values and displays the validation
          messages, if any (as shown below):</para>

          <figure>
            <title>Validation Messages Generated by Custom Class</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="./resources/images/screen-sampler-deleg-validate-msg.gif" />
              </imageobject>
            </mediaobject>
          </figure>
        </section>
      </section>
    </section>

    <section>
      <title>Access Control</title>

      <para>This module is for demonstrating how the Access Control feature
      can be used. This feature is for setting up roles and capabilities to
      handle controlling access to various parts of an application. An
      application user can be assigned a role which will control whether or
      not the user can access a page, a report, a dialog, or even a
      field.</para>

      <para>The examples contained in this section are further divided into
      sub-categories. The <emphasis>Access Control</emphasis> page contains a
      list of links to its children pages containing the categorized example
      pages. Links to these children pages are also provided through a submenu
      bar under the <emphasis>Access Control</emphasis> tab.</para>

      <section>
        <title>Change Role</title>

        <para>This page is for changing a Role assigned to the user. A Role
        (<sgmltag>role</sgmltag>) is a logical grouping of a set of
        permissions and permissions are usually defined and grouped logically
        also. By assigning a permission (<sgmltag>permission</sgmltag>) to a
        role, its child permissions are also automatically assigned. Changing
        a role might result in a completely new set of permissions or just one
        permission being added or removed.</para>

        <figure>
          <title>Changing User Roles</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="./resources/images/screen-sampler-change-role.gif" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Select a new user role from the <varname>Available
        Roles</varname> select box and click the <command>OK</command> button
        to assign a new role to the user.</para>

        <figure>
          <title>Role Changed</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="./resources/images/screen-sampler-change-role.gif" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>The links visible in the Navigation Menu bar change based on the
        selected Role. When you change the role from
        <sgmltag>acl/role/super-user</sgmltag> to
        <sgmltag>acl/role/super-user/role</sgmltag>, the navigation menu bar
        links change from <guimenuitem>Test2</guimenuitem> and
        <guimenuitem>Test3</guimenuitem> to
        <guimenuitem>Test1</guimenuitem>.</para>

        <figure>
          <title>Navigation Menu Changed After Role Change</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="./resources/images/screen-sampler-roles-links-changed.gif" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Test the Access Control option by further changing the role and
        observing the change in the links visible on the Navigation Menu
        bar.</para>
      </section>

      <section>
        <title>Test 1</title>

        <para>This page is hidden in the navigation menu when the user has the
        following permission: /acl/app/forms/execution. Clicking on this link
        from the Navigation Meny bar displays a message informing you about
        the permission rights currently available:</para>

        <figure>
          <title>Permission Available Message</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="./resources/images/screen-sampler-has-permission-1.gif" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>When this link is not visible in the navigation menu tab, you
        may select it from the <emphasis>Access Control</emphasis> page.
        </para>
      </section>

      <section>
        <title>Test 2</title>

        <para>This page is hidden in the navigation menu when the user lacks
        the following permission: /acl/app/forms/execution. You may click on
        this link from the Access Control page. You may also test it from the
        Navigation Manu bar when it is visible there. </para>
      </section>

      <section>
        <title>Test 3</title>

        <para>This page is hidden in the navigation menu when the user lacks
        the following permission: /acl/app/forms. You may click on this link
        from the Access Control page. You may also test it from the Navigation
        Manu bar when it is visible there. </para>
      </section>
    </section>

    <section>
      <title>Play</title>

      <para>Now that you have learnt the use of some more features of the
      framework, it is time for you to start creating your own applications!
      The Play page gives you a chance to learn by writing your own code. You
      can do this by updating the WEB-INF\sparx\play-page.xml file. The Play
      page provides you the opportunity to test the functionality of your
      newly written code. </para>

      <figure>
        <title>Page for Creating and Testing Your Own Code</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="./resources/images/screen-sampler-play-page.gif" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>

    <section>
      <title>Sitemap</title>

      <para>Sparx provoides you with the facility to create sitemaps for your
      web sites using templates. The <emphasis>Sitemap</emphasis> page
      demonstrates this facility by providing a sitemap for the Sampler App.
      </para>

      <figure>
        <title>Sampler App Sitemap</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="./resources/images/screen-sampler-sitemap.gif" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>

    <section>
      <title>Console</title>

      <para>Like every other NEFS application, the Sampler also has a Console.
      This Console can be accessed through the Console section. You will see
      the application Console login screen.</para>

      <para><screenshot>
          <graphic fileref="./resources/images/screen-console-login.gif" />
        </screenshot></para>

      <para>The Console's default User Id is <literal>'console</literal>' and
      the default Password is <literal>'console'</literal>(each without
      quotes). Unless otherwise specified, that is the User Id and Password
      combination you should use if the Console prompts you to login. Please
      refer to the <emphasis>Enterprise Console Tour</emphasis> for more
      details about the Console.</para>
    </section>

    <section>
      <title>Sample Apps Home</title>

      <para>This section takes you to the Sample Apps Home page on the
      netspective web site.</para>

      <screenshot>
        <graphic fileref="./resources/images/screen-books-samples-page.gif" />
      </screenshot>
    </section>
  </section>

  <section>
    <title>Conclusion</title>

    <para></para>
  </section>
</article>